<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Markdown to PDF Converter</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/4.3.0/marked.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    
    <style>
        body { font-family: sans-serif; margin: 40px; background: #f4f4f9; color: #333; }
        .container { max-width: 800px; margin: auto; background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        textarea { width: 100%; height: 300px; padding: 10px; border: 1px solid #ddd; border-radius: 4px; font-family: monospace; resize: vertical; }
        button { background: #007bff; color: white; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer; margin-top: 10px; font-size: 16px; }
        button:hover { background: #0056b3; }
        #preview { display: none; } /* Hidden from screen, used for PDF generation */
    </style>
</head>
<body>

<div class="container">
    <h2>Markdown to PDF</h2>
    <p>Paste your Markdown below:</p>
    <textarea id="markdown-input" placeholder="# Hello World
Write some **bold** text or [links](https://google.com)..."></textarea>
    <br>
    <button onclick="generatePDF()">Convert & Save PDF</button>
</div>

<div id="preview"></div>

<script>
    function generatePDF() {
        const markdownText = document.getElementById('markdown-input').value;
        const previewElement = document.getElementById('preview');

        if (!markdownText.trim()) {
            alert("Please paste some Markdown first!");
            return;
        }

        // 1. Convert Markdown to HTML
        previewElement.innerHTML = marked.parse(markdownText);

        // 2. PDF Configuration
        const opt = {
            margin:       1,
            filename:     'converted-document.pdf',
            image:        { type: 'jpeg', quality: 0.98 },
            html2canvas:  { scale: 2 },
            jsPDF:        { unit: 'in', format: 'letter', orientation: 'portrait' }
        };

        // 3. Generate and Download
        html2pdf().set(opt).from(previewElement).save();
    }
</script>

</body>
</html>
